<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" href="/click-for-love/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8" />
    <title>Valentine Alert! ðŸ’˜</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* Animations */
        .card.pulse {
            animation: pulseGlow 0.6s ease;
        }

        @keyframes pulseGlow {
            0% {
                transform: scale(1)
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 0 30px rgba(255, 77, 109, .8)
            }

            100% {
                transform: scale(1)
            }
        }

        .card.shakeCard {
            animation: shakeCard 0.4s ease;
        }

        @keyframes shakeCard {

            0%,
            100% {
                transform: translateX(0)
            }

            25% {
                transform: translateX(-6px)
            }

            50% {
                transform: translateX(6px)
            }

            75% {
                transform: translateX(-6px)
            }
        }

        .card.bounce {
            animation: bounceCard 0.6s ease;
        }

        @keyframes bounceCard {
            0% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(-12px)
            }

            100% {
                transform: translateY(0)
            }
        }

        .card.spin {
            animation: spinCard 0.8s ease;
        }

        @keyframes spinCard {
            0% {
                transform: rotate(0deg)
            }

            50% {
                transform: rotate(180deg)
            }

            100% {
                transform: rotate(360deg)
            }
        }

        .card.wiggle {
            animation: wiggleCard 0.5s ease;
        }

        @keyframes wiggleCard {
            0% {
                transform: rotate(0deg)
            }

            25% {
                transform: rotate(-8deg)
            }

            50% {
                transform: rotate(8deg)
            }

            75% {
                transform: rotate(-6deg)
            }

            100% {
                transform: rotate(0deg)
            }
        }

        .card.flip {
            animation: flipCard 0.8s ease forwards;
        }

        @keyframes flipCard {
            from {
                transform: rotateY(0deg)
            }

            to {
                transform: rotateY(360deg)
            }
        }

        /* Floating hearts */
        .hearts-container {
            position: fixed;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }

        .heart {
            position: absolute;
            width: 18px;
            height: 18px;
            background: rgba(255, 77, 109, .35);
            transform: rotate(45deg);
            animation: floatUp linear forwards;
        }

        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 18px;
            height: 18px;
            background: inherit;
            border-radius: 50%;
        }

        .heart::before {
            top: -9px
        }

        .heart::after {
            left: -9px
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(45deg) scale(.8);
                opacity: 0
            }

            10% {
                opacity: 1
            }

            100% {
                transform: translateY(-140px) rotate(45deg) scale(1.2);
                opacity: 0
            }
        }

        .floating-heart {
            position: fixed;
            font-size: 20px;
            pointer-events: none;
            animation: floatFade 2s linear forwards;
        }

        @keyframes floatFade {
            0% {
                opacity: 0;
                transform: translateY(0) scale(.5)
            }

            20% {
                opacity: 1;
                transform: translateY(-20px) scale(1)
            }

            100% {
                opacity: 0;
                transform: translateY(-150px) scale(.8)
            }
        }

        /* Layout */
        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: Poppins, sans-serif;
            background: linear-gradient(135deg, #ffdde1, #ee9ca7);
            transition: background .8s ease;
            overflow: hidden;
        }

        .card {
            background: #ffffff88;
            padding: clamp(20px, 5vw, 36px);
            border-radius: 24px;

            width: 100%;
            max-width: 420px;

            margin: 0 16px;
            /* ðŸ‘ˆ this creates left/right space on mobile */

            text-align: center;
            box-shadow: 0 25px 60px rgba(0, 0, 0, .15);
            z-index: 2;
        }



        h1 {
            color: #ff4d6d;
            font-size: 26px
        }

        p {
            font-size: 18px;
            min-height: 48px
        }

        .buttons {
            position: relative;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            gap: 12px;
        }

        .buttons button {
            flex: 1;
        }


        button {
            width: 140px;
            height: 48px;
            border: none;
            border-radius: 999px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform .2s ease, box-shadow .2s ease;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 14px rgba(0, 0, 0, .15)
        }

        #yesBtn {
            background: #ff4d6d;
            color: white
        }

        #noBtn {
            position: relative;
            transition: left 0.25s ease-out, top 0.25s ease-out;
            background: #ddd
        }

        #noBtn.panic {
            animation: noPanic 0.4s ease;
        }

        #noBtn.shake {
            animation: noShake 0.3s ease;
        }

        @keyframes noPanic {
            0% {
                transform: scale(1);
            }

            20% {
                transform: scale(1.1) rotate(-3deg);
            }

            40% {
                transform: scale(1.15) rotate(3deg);
            }

            60% {
                transform: scale(1.08) rotate(-2deg);
            }

            80% {
                transform: scale(1.12) rotate(2deg);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes noShake {
            0% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            50% {
                transform: translateX(5px);
            }

            75% {
                transform: translateX(-5px);
            }

            100% {
                transform: translateX(0);
            }
        }

        .note {
            font-size: 13px;
            color: #777;
            margin-top: 16px
        }

        .finale h1 {
            font-size: 32px
        }

        .finale p {
            font-size: 20px
        }
    </style>
</head>

<body>
    <div class="hearts-container" id="hearts"></div>

    <div class="card" id="card">
        <h1 id="title"></h1>
        <p id="question"></p>

        <div class="buttons" id="buttonsRow">
            <button id="yesBtn" aria-label="Yes Valentine Button">Yes ðŸ’–</button>
            <button id="noBtn" aria-label="No Valentine Button">No ðŸ™„</button>

        </div>

        <div class="note" id="note"></div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const rawName = urlParams.get("name");
        const safeName = rawName ? rawName.replace(/[^a-zA-Z]/g, "") : "there";
        const name = safeName.charAt(0).toUpperCase() + safeName.slice(1);
        //const name = rawName ? rawName.charAt(0).toUpperCase() + rawName.slice(1) : "there";

        const titleEl = document.getElementById("title");
        const questionEl = document.getElementById("question");
        const noteEl = document.getElementById("note");
        const yesBtn = document.getElementById("yesBtn");
        const noBtn = document.getElementById("noBtn");
        const buttonsRow = document.getElementById("buttonsRow");
        const cardEl = document.getElementById("card");
        const heartsContainer = document.getElementById("hearts");

        titleEl.innerText = `Hey ${name}, will you be my Valentine?`;
        noteEl.innerText = "Try pressing Yes ðŸ˜Œ";

        const backgrounds = [
            "linear-gradient(135deg,#ffdde1,#ee9ca7)",
            "linear-gradient(135deg,#fbc2eb,#a6c1ee)",
            "linear-gradient(135deg,#ff9a9e,#fad0c4)",
            "linear-gradient(135deg,#2193b0,#6dd5ed)",
            "linear-gradient(135deg,#42275a,#734b6d)",
            "linear-gradient(135deg,#ff7e5f,#feb47b)"
        ];

        function setRandomBackground() {
            document.body.style.background = backgrounds[Math.floor(Math.random() * backgrounds.length)];
        }
        setRandomBackground();

        /* ------------------ Question Sets ------------------ */
        const questionSets = [
            ["Do you promise to be my Valentine?", "Are you REALLY sure?", "Your heart is saying yesâ€¦ right?", "Still choosing yes?", "Okay, destiny time ðŸ’˜"],
            ["Soâ€¦ Valentine date with me?", "Wait wait, think again", "Youâ€™re smiling right now", "Your phone wants you to say yes", "Final answer?"],
            ["Be honestâ€¦ you like me", "That no button looks tired", "You came this far", "Heart says yes", "Lock it in ðŸ’ž"],
            ["Can I steal your heart today?", "Warning: this gets romantic", "You canâ€™t escape love", "Almost there", "Say yes already ðŸ˜"],
            ["Are we officially a thing now?", "Your future self says yes", "This button loves you", "Donâ€™t break its heart", "One last step ðŸ’–"],
            ["Roses are redâ€¦", "Violets are blueâ€¦", "Thereâ€™s only one answerâ€¦", "And itâ€™s waiting for you", "Choose wisely ðŸ’˜"],
            ["Knock knockâ€¦", "Whoâ€™s there?", "Your Valentine", "Waiting for yes", "Open your heart ðŸ’ž"],
            ["Did you really think No would work?", "Be honestâ€¦ you like this game", "Your finger is hovering over Yes", "Just accept your fate", "Say yes, villain style ðŸ˜ˆðŸ’˜"],

            ["Are you scared of love?", "Is that a tiny smile?", "You canâ€™t outrun destiny", "Almost trapped", "Press Yes or I steal your heart ðŸ˜"],

            ["Do you feel the tension?", "Heartbeat says yes", "Brain says donâ€™tâ€¦", "Heart says DO IT", "Choose love ðŸ˜ˆðŸ’–"],

            ["Plot twist incomingâ€¦", "You are the main character", "This is a rom-com", "And Iâ€™m your Valentine", "Roll credits with Yes ðŸŽ¬ðŸ’˜"],

            ["You clicked this link for a reason", "Curiosity got you here", "Now youâ€™re invested", "No escape route found", "Say yes already ðŸ˜œ"],

            ["Are you blushing right now?", "Phone is getting warm", "Thatâ€™s love loading", "Almost completeâ€¦", "Install Valentine.exe ðŸ’»ðŸ’˜"],

            ["I see you chasing No", "But Yes is chasing you", "Love is faster", "Almost caught", "Boom â€” say yes ðŸ˜ˆ"],

            ["This is psychological warfare", "Cute warfare though", "Your defenses are weak", "Surrender to love", "Yes is inevitable ðŸ’–"],

            ["Warning: Romantic trap ahead", "You stepped on it", "Too late to turn back", "Only Yes unlocks exit", "Choose wisely ðŸ˜"],

            ["Youâ€™re smiling again", "Donâ€™t deny it", "Your heart betrayed you", "Last chance to resist", "Or join me ðŸ˜ˆðŸ’ž"]

        ];

        /* ------------------ Notes ------------------ */
        const notes = [
            "Hmmâ€¦ the No button looks nervous ðŸ˜…",
            "It keeps running for a reason ðŸ‘€",
            "Your heart knows the answer ðŸ’—",
            "Stop chasing Noâ€¦ chase happiness ðŸ˜Œ",
            "Okay okay, just press Yes already ðŸ˜",
            "Cupid is watching you ðŸ¹",
            "Your smile just moved the Yes button",
            "Love.exe is loadingâ€¦",
            "This is your romantic destiny âœ¨",
            "Even the stars say yes ðŸŒŸ",
            "Running from love is cardio ðŸ’€ðŸ˜‚",
            "No button needs therapy now ðŸ˜­",
            "Your mouse is tired, your heart is not ðŸ’–",
            "Caught you smiling ðŸ˜",
            "This is emotional blackmail (cute version)",
            "Yes button feels lonelyâ€¦ tap it",
            "Your destiny is one click away",
            "Love loadingâ€¦ please wait â³",
            "No button on vacation ðŸ–ï¸",
            "Stop chasing, start loving ðŸ˜ˆ",
            "Resistance level: low",
            "Cupid upgraded to hacker mode ðŸ’»ðŸ¹",
            "Heart.exe has stopped responding",
            "Certified romance moment",
            "You triggered the cute ending ðŸ’ž"

        ];

        /* ------------------ Finale Sets (with name) ------------------ */
        const finaleSets = [
            { title: `YAY ${name}!!! ðŸ’–ðŸ¥°`, text: `${name}, youâ€™re officially my Valentine ðŸ’˜` },
            { title: `OMG ${name}! ðŸ˜`, text: `Best decision ever, ${name} ðŸ’ž` },
            { title: `Itâ€™s a YES ${name}!!! ðŸŽ‰`, text: `Love just unlocked for you, ${name} ðŸ’–` },
            { title: `Mission Complete ðŸ’˜`, text: `${name} and me = Valentine mode ðŸ¥°` },
            { title: `Cupid Wins ðŸ¹`, text: `My heart belongs to you, ${name} ðŸ’—` },
            { title: `Forever Starts Now âœ¨`, text: `Happy Valentine, ${name}, my favorite person ðŸ’ž` },
            { title: `Caught You ${name} ðŸ˜`, text: `${name}, resistance was futile. You are now my Valentine ðŸ˜ˆðŸ’˜` },
            { title: `Oops ${name}! ðŸ’¥`, text: `You just signed a love contract with me ðŸ“ðŸ’–` },
            { title: `Too Late ${name} ðŸ˜œ`, text: `No refunds, no escape, only love ðŸ’ž` },
            { title: `System Error â¤ï¸`, text: `${name} clicked YES.exe and love installed successfully ðŸ˜Ž` },
            { title: `Game Over ${name} ðŸŽ®`, text: `Winner: Us. Prize: Unlimited cuddles ðŸ¥°` },
            { title: `Uh Oh ${name} ðŸ˜ˆ`, text: `You fell into my Valentine trap ðŸ’˜` },
            { title: `Breaking News ðŸ“°`, text: `${name} officially stolen my heart ðŸ’—` },
            { title: `Congratulations ${name} ðŸŽ‰`, text: `You unlocked the secret romance level ðŸ’–` },
            { title: `Plot Twist ${name} ðŸ¤¯`, text: `Weâ€™re Valentine partners now ðŸ˜` },
            { title: `Warning ${name} âš ï¸`, text: `Extreme cuteness incomingâ€¦ caused by you ðŸ’ž` },
            { title: `Love Hack Activated ðŸ’»`, text: `${name} just hacked into my heart ðŸ˜` },
            { title: `Arrested ${name} ðŸš“`, text: `Crime: Being too lovable ðŸ’˜` },
            { title: `Mission Failed Successfully ðŸ˜Ž`, text: `${name}, you tried to say no but love said YES ðŸ’–` },
            { title: `Achievement Unlocked ðŸ†`, text: `${name}: Professional Heart Stealer ðŸ’—` },
            { title: `404 No Escape ðŸ˜ˆ`, text: `${name}, Valentine status found ðŸ’˜` },
            { title: `Boom ${name}! ðŸ’¥`, text: `Love bomb activated successfully ðŸ’ž` },
            { title: `Oopsie ${name} ðŸ™ˆ`, text: `Now you owe me chocolates and hugs ðŸ«ðŸ¥°` },
            { title: `Hehe ${name} ðŸ˜œ`, text: `You walked into this romance on purpose ðŸ’–` },
            { title: `Surprise ${name}! ðŸŽ`, text: `Youâ€™re stuck being my Valentine ðŸ’˜` },
            { title: `Final Boss Defeated ðŸ–¤`, text: `${name}, your heart belongs to me now ðŸ˜ˆðŸ’ž` }

        ];

        const questions = questionSets[Math.floor(Math.random() * questionSets.length)];
        let step = 0;
        questionEl.innerText = questions[0];

        yesBtn.addEventListener("click", () => {
            noBtn.style.transform = "translate(0,0)";

            const effects = ["shakeCard", "pulse", "bounce", "spin", "wiggle"];
            const chosen = effects[Math.floor(Math.random() * effects.length)];
            cardEl.classList.add(chosen);
            setTimeout(() => cardEl.classList.remove(chosen), 800);

            step++;
            if (step < questions.length) {
                questionEl.innerText = questions[step];
                noteEl.innerText = notes[Math.min(step, notes.length - 1)];
                setRandomBackground();
                spawnHeartBurst(6);
            } else {
                finale();
            }
        });

        const noTexts = [
            "Yes ðŸ˜‡",
            "Maybe ðŸ¤”",
            "Free Candy ðŸ¬",
            "Click me ðŸ˜",
            "Not No ðŸ˜ˆ",
            "Totally safe"
        ];
        let noClicks = 0;

        const noNotes = [
            "Running wonâ€™t help ðŸ˜‰",
            "No button is scared of love ðŸ«£",
            "Why you bullying the No button ðŸ˜­",
            "Just press Yes already ðŸ˜Œ",
            "This is cardio for your mouse ðŸƒâ€â™‚ï¸",
            "Your heart is faster than No ðŸ˜ˆ",
            "Stop playing hard to get ðŸ’–",
            "Cupid upgraded to hacker mode ðŸ¹ðŸ’»",
            "No.exe is panicking ðŸ’¥",
            "Resistance level: low ðŸ˜",
            "Youâ€™re only delaying happiness âœ¨",
            "Nice tryâ€¦ love still wins ðŸ’˜",
            "That button is tired ðŸ˜‚",
            "Even gravity wants you to press Yes ðŸŒ",
            "Plot twist: No is actually Yes ðŸ˜œ",
            "Are you smiling right now? ðŸ˜",
            "This is emotional blackmail (cute version)",
            "Your mouse is confused but your heart is not ðŸ’—",
            "Running from love is unhealthy ðŸ˜ˆ",
            "Game difficulty: Romantic Mode ðŸŽ®ðŸ’–"
        ];

        const clickStages = [
            "First clickâ€¦ suspicious ðŸ‘€",
            "Second click ðŸ˜",
            "Third timeâ€™s a pattern",
            "Okay this is intentional now ðŸ˜‚",
            "Youâ€™re committed to this bit",
            "No button is SWEATING ðŸ’¦",
            "This is getting personal",
            "You enjoy chaos, donâ€™t you ðŸ˜ˆ",
            "Certified No-chaser ðŸƒâ€â™‚ï¸",
            "Emotional damage unlocked ðŸ’¥",
            "No.exe has filed a complaint ðŸ“„",
            "Love police are watching ðŸ‘®â€â™‚ï¸ðŸ’˜",
            "Achievement unlocked: Persistent ðŸ˜Ž",
            "This couldâ€™ve been one Yes",
            "Button abuse detected ðŸš¨",
            "Romantic villain arc activated ðŸ˜ˆ",
            "Mouse endurance test passed ðŸ–±ï¸",
            "Youâ€™re farming clicks now ðŸ’€",
            "This is flirting, admit it",
            "Final warningâ€¦ press Yes ðŸ’–"
        ];


        noBtn.addEventListener("mouseenter", () => {
            noBtn.innerText = noTexts[Math.floor(Math.random() * noTexts.length)];
        });

        noBtn.addEventListener("click", () => {
            noClicks++;

            // animation
            noBtn.classList.add("panic");
            setTimeout(() => noBtn.classList.remove("panic"), 400);

            // move button
            const offsetX = (Math.random() - 0.5) * 300;
            const offsetY = (Math.random() - 0.5) * 200;
            noBtn.style.transform = `translate(${offsetX}px, ${offsetY}px)`;

            // text on button (hover troll)
            noBtn.innerText = noTexts[Math.floor(Math.random() * noTexts.length)];

            // NOTE MESSAGE BY CLICK COUNT
            let message;

            if (noClicks <= clickStages.length) {
                message = clickStages[noClicks - 1]; // 0-based index
            } else {
                message = "Fineâ€¦ I know you want Yes ðŸ’–";
            }

            noteEl.innerText = message;

            spawnHeartBurst(8);
        });



        /* Finale */
        function finale() {
            buttonsRow.style.display = "none";
            const data = finaleSets[Math.floor(Math.random() * finaleSets.length)];
            cardEl.innerHTML = `<div class="finale"><h1>${data.title}</h1><p>${data.text}</p></div>`;

            const end = Date.now() + 3000;
            (function frame() {
                confetti({ particleCount: 12, spread: 90, origin: { y: .6 }, shapes: ["heart"], colors: ["#ff4d6d", "#ff758f", "#ffb3c1"] });
                if (Date.now() < end) requestAnimationFrame(frame);
            })();
        }

        /* Hearts */
        function spawnHeartBurst(count = 6) {
            const rect = cardEl.getBoundingClientRect();
            for (let i = 0; i < count; i++) {
                const heart = document.createElement("div");
                heart.className = "heart";
                heart.style.left = rect.left + Math.random() * rect.width + "px";
                heart.style.top = rect.bottom + "px";
                heart.style.animationDuration = 3 + Math.random() * 2 + "s";
                heartsContainer.appendChild(heart);
                setTimeout(() => heart.remove(), 4000);
            }
        }

        setInterval(() => spawnHeartBurst(4), 800);

        setInterval(() => {
            const heart = document.createElement("div");
            heart.className = "floating-heart";
            heart.innerHTML = "ðŸ’–";
            heart.style.left = Math.random() * window.innerWidth + "px";
            heart.style.top = window.innerHeight + "px";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 3000);
        }, 1000);

    </script>

</body>

</html>
