<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" href="/click-for-love/favicon.ico" type="image/x-icon">

    <meta charset="UTF-8" />
    <title>Valentine Alert! ðŸ’˜</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /*pulse glow*/
        .card.pulse {
            animation: pulseGlow 0.6s ease;
        }

        @keyframes pulseGlow {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 rgba(255, 77, 109, 0.6);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 0 30px rgba(255, 77, 109, 0.8);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 rgba(255, 77, 109, 0.6);
            }
        }

        .blur-bg {
            backdrop-filter: blur(6px);
        }

        /*shake + bounce*/
        .card.shakeCard {
            animation: shakeCard 0.4s ease;
        }

        @keyframes shakeCard {
            0% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-6px);
            }

            50% {
                transform: translateX(6px);
            }

            75% {
                transform: translateX(-6px);
            }

            100% {
                transform: translateX(0);
            }
        }

        /* Bounce */
        .card.bounce {
            animation: bounceCard 0.6s ease;
        }

        @keyframes bounceCard {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-12px);
            }

            100% {
                transform: translateY(0);
            }
        }

        /* Spin */
        .card.spin {
            animation: spinCard 0.8s ease;
        }

        @keyframes spinCard {
            0% {
                transform: rotate(0deg);
            }

            50% {
                transform: rotate(180deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Wiggle */
        .card.wiggle {
            animation: wiggleCard 0.5s ease;
        }

        @keyframes wiggleCard {
            0% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(-8deg);
            }

            50% {
                transform: rotate(8deg);
            }

            75% {
                transform: rotate(-6deg);
            }

            100% {
                transform: rotate(0deg);
            }
        }

        /*finale flip*/
        .card.flip {
            animation: flipCard 0.8s ease forwards;
        }

        @keyframes flipCard {
            from {
                transform: rotateY(0deg);
            }

            to {
                transform: rotateY(360deg);
            }
        }

        /* Floating Hearts Background */
        .hearts-container {
            position: fixed;
            inset: 0;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
        }

        .heart {
            position: absolute;
            width: 18px;
            height: 18px;
            background: rgba(255, 77, 109, 0.35);
            transform: rotate(45deg);
            animation: floatUp linear forwards;
            filter: blur(0.5px);
        }

        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 18px;
            height: 18px;
            background: inherit;
            border-radius: 50%;
        }

        .heart::before {
            top: -9px;
            left: 0;
        }

        .heart::after {
            left: -9px;
            top: 0;
        }

        .floating-heart {
            position: fixed;
            font-size: 20px;
            color: rgba(255, 77, 109, 0.6);
            pointer-events: none;
            z-index: 1;
            animation: floatFade 6s linear forwards;
        }

        @keyframes floatFade {
            0% {
                opacity: 0;
                transform: translateY(0) scale(0.5);
            }
            20% {
                opacity: 1;
                transform: translateY(-20px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-150px) scale(0.8);
            }
        }

        /* Float animation */
        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(45deg) scale(0.8);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            100% {
                transform: translateY(-140px) rotate(45deg) scale(1.2);
                opacity: 0;
            }
        }

        /* Make sure card stays above */
        .card {
            position: relative;
            z-index: 2;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: "Poppins", sans-serif;
            background: linear-gradient(135deg, #ffdde1, #ee9ca7);
            transition: background 0.8s ease;
            /* smooth gradient transitions */
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid rgba(255, 77, 109, 0.4);
            box-shadow: 
                inset 0 0 15px rgba(255, 77, 109, 0.2),
                0 0 20px rgba(255, 77, 109, 0.3);
            pointer-events: none;
            z-index: 1000;
            animation: pulseGlow 3s ease-in-out infinite;
        }

        body::after {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            pointer-events: none;
            z-index: 999;
            animation: moveGlare 8s linear infinite;
        }

        @keyframes moveGlare {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        /* Card */
        .card {
            background: #ffffff88;
            padding: 36px 28px;
            border-radius: 24px;
            width: 90%;
            max-width: 420px;
            text-align: center;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
        }

        /* Text */
        h1 {
            color: #ff4d6d;
            font-size: 26px;
            margin-bottom: 10px;
        }

        p {
            font-size: 18px;
            color: #333;
            min-height: 48px;
            margin-bottom: 14px;
        }

        .note {
            margin-top: 16px;
            font-size: 13px;
            color: #777;
        }

        /* Buttons Row */
        .buttons {
            margin-top: 20px;
            display: flex;
            justify-content: flex-start;
            /* padding-left: 40px; */
            gap: 16px;
            position: relative;
            height: 56px;
        }

        /* Buttons */
        button {
            width: 140px;
            height: 48px;
            border: none;
            border-radius: 999px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 14px rgba(0, 0, 0, 0.15);
        }


        #yesBtn {
            background: #ff4d6d;
            color: white;
        }

        #noBtn {
            position: absolute;
            z-index: 10;
            transition: transform 0.15s ease;
        }

        #noBtn.runaway {
            position: fixed;
            transition: left 0.25s ease, top 0.25s ease;
        }


        /* Finale */
        .finale h1 {
            font-size: 32px;
        }

        .finale p {
            font-size: 20px;
        }

        @media (max-width: 360px) {
            .buttons {
                flex-direction: column;
                height: auto;
            }

            #noBtn {
                top: 60px !important;
            }
        }
    </style>
</head>

<body>
    <div class="hearts-container" id="hearts"></div>

    <div class="card" id="card">
        <h1 id="title"></h1>
        <p id="question"></p>

        <div class="buttons" id="buttonsRow">
            <button id="yesBtn">Yes ðŸ’–</button>
            <button id="noBtn">No ðŸ™„</button>
        </div>

        <div class="note" id="note"></div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const rawName = urlParams.get("name");

        const name = rawName
            ? rawName.charAt(0).toUpperCase() + rawName.slice(1)
            : "there";


        const titleEl = document.getElementById("title");
        const questionEl = document.getElementById("question");
        const noteEl = document.getElementById("note");
        const yesBtn = document.getElementById("yesBtn");
        const noBtn = document.getElementById("noBtn");
        const buttonsRow = document.getElementById("buttonsRow");

        titleEl.innerText = `Hey ${name}, will you be my Valentine?`;
        noteEl.innerText = "Try pressing Yes ðŸ˜Œ";

        /* Backgrounds */
        const backgrounds = [
            // Pinks & Reds
            "linear-gradient(135deg, #ffdde1, #ee9ca7)",
            "linear-gradient(135deg, #fbc2eb, #a6c1ee)",
            "linear-gradient(135deg, #ffecd2, #fcb69f)",
            "linear-gradient(135deg, #fccb90, #d57eeb)",
            "linear-gradient(135deg, #ff9a9e, #fad0c4)",
            "linear-gradient(135deg, #ff758c, #ff7eb3)",
            "linear-gradient(135deg, #ff6a88, #ff99ac)",
            "linear-gradient(135deg, #f64f59, #c471ed)",
            "linear-gradient(135deg, #ff416c, #ff4b2b)",
            "linear-gradient(135deg, #ff9966, #ff5e62)",
            "linear-gradient(135deg, #e53935, #e35d5b)",
            "linear-gradient(135deg, #ff4e50, #f9d423)",
            "linear-gradient(135deg, #bc4e9c, #f80759)",
            "linear-gradient(135deg, #ff758c, #ffb3c1)",
            "linear-gradient(135deg, #d38312, #a83279)",
            "linear-gradient(135deg, #ff512f, #dd2476)",
            "linear-gradient(135deg, #654ea3, #eaafc8)",

            // Blues & Teals
            "linear-gradient(135deg, #2193b0, #6dd5ed)",
            "linear-gradient(135deg, #36d1dc, #5b86e5)",
            "linear-gradient(135deg, #6a11cb, #2575fc)",
            "linear-gradient(135deg, #8e44ad, #3498db)",
            "linear-gradient(135deg, #2c3e50, #4ca1af)",
            "linear-gradient(135deg, #1e3c72, #2a5298)",
            "linear-gradient(135deg, #0f2027, #203a43, #2c5364)",

            // Dark Purples & Mauves
            "linear-gradient(135deg, #42275a, #734b6d)",

            // Light & Warm
            "linear-gradient(135deg, #f6d365, #fda085)",
            "linear-gradient(135deg, #84fab0, #8fd3f4)",
            "linear-gradient(135deg, #ee9ca7, #ffdde1)",

            // Added new gradients
            "linear-gradient(135deg, #ff7e5f, #feb47b)",   // coral to peach
            "linear-gradient(135deg, #6a3093, #a044ff)",   // deep purple to bright violet
            "linear-gradient(135deg, #0f0c29, #302b63, #24243e)", // night sky dark
            "linear-gradient(135deg, #f00000, #dc281e)",   // fiery red
            "linear-gradient(135deg, #3a1c71, #d76d77, #ffaf7b)", // twilight blend
            "linear-gradient(135deg, #11998e, #38ef7d)",   // teal to green
            "linear-gradient(135deg, #200122, #6f0000)",   // very dark dramatic
        ];



        function setRandomBackground() {
            document.body.style.background =
                backgrounds[Math.floor(Math.random() * backgrounds.length)];
        }

        setRandomBackground();

        /* ------------------ Question Sets ------------------ */
        const questionSets = [
            ["Do you promise to be my Valentine?", "Are you REALLY sure?", "Your heart is saying yesâ€¦ right?", "Still choosing yes?", "Okay, destiny time ðŸ’˜"],
            ["Soâ€¦ Valentine date with me?", "Wait wait, think again", "Youâ€™re smiling right now", "Your phone wants you to say yes", "Final answer?"],
            ["Be honestâ€¦ you like me", "That no button looks tired", "You came this far", "Heart says yes", "Lock it in ðŸ’ž"],
            ["Can I steal your heart today?", "Warning: this gets romantic", "You canâ€™t escape love", "Almost there", "Say yes already ðŸ˜"],
            ["Are we officially a thing now?", "Your future self says yes", "This button loves you", "Donâ€™t break its heart", "One last step ðŸ’–"],
            ["Roses are redâ€¦", "Violets are blueâ€¦", "Thereâ€™s only one answerâ€¦", "And itâ€™s waiting for you", "Choose wisely ðŸ’˜"],
            ["Knock knockâ€¦", "Whoâ€™s there?", "Your Valentine", "Waiting for yes", "Open your heart ðŸ’ž"],
            ["Did you really think No would work?", "Be honestâ€¦ you like this game", "Your finger is hovering over Yes", "Just accept your fate", "Say yes, villain style ðŸ˜ˆðŸ’˜"],

            ["Are you scared of love?", "Is that a tiny smile?", "You canâ€™t outrun destiny", "Almost trapped", "Press Yes or I steal your heart ðŸ˜"],

            ["Do you feel the tension?", "Heartbeat says yes", "Brain says donâ€™tâ€¦", "Heart says DO IT", "Choose love ðŸ˜ˆðŸ’–"],

            ["Plot twist incomingâ€¦", "You are the main character", "This is a rom-com", "And Iâ€™m your Valentine", "Roll credits with Yes ðŸŽ¬ðŸ’˜"],

            ["You clicked this link for a reason", "Curiosity got you here", "Now youâ€™re invested", "No escape route found", "Say yes already ðŸ˜œ"],

            ["Are you blushing right now?", "Phone is getting warm", "Thatâ€™s love loading", "Almost completeâ€¦", "Install Valentine.exe ðŸ’»ðŸ’˜"],

            ["I see you chasing No", "But Yes is chasing you", "Love is faster", "Almost caught", "Boom â€” say yes ðŸ˜ˆ"],

            ["This is psychological warfare", "Cute warfare though", "Your defenses are weak", "Surrender to love", "Yes is inevitable ðŸ’–"],

            ["Warning: Romantic trap ahead", "You stepped on it", "Too late to turn back", "Only Yes unlocks exit", "Choose wisely ðŸ˜"],

            ["Youâ€™re smiling again", "Donâ€™t deny it", "Your heart betrayed you", "Last chance to resist", "Or join me ðŸ˜ˆðŸ’ž"]

        ];

        /* ------------------ Notes ------------------ */
        const notes = [
            "Hmmâ€¦ the No button looks nervous ðŸ˜…",
            "It keeps running for a reason ðŸ‘€",
            "Your heart knows the answer ðŸ’—",
            "Stop chasing Noâ€¦ chase happiness ðŸ˜Œ",
            "Okay okay, just press Yes already ðŸ˜",
            "Cupid is watching you ðŸ¹",
            "Your smile just moved the Yes button",
            "Love.exe is loadingâ€¦",
            "This is your romantic destiny âœ¨",
            "Even the stars say yes ðŸŒŸ",
            "Running from love is cardio ðŸ’€ðŸ˜‚",
            "No button needs therapy now ðŸ˜­",
            "Your mouse is tired, your heart is not ðŸ’–",
            "Caught you smiling ðŸ˜",
            "This is emotional blackmail (cute version)",
            "Yes button feels lonelyâ€¦ tap it",
            "Your destiny is one click away",
            "Love loadingâ€¦ please wait â³",
            "No button on vacation ðŸ–ï¸",
            "Stop chasing, start loving ðŸ˜ˆ",
            "Resistance level: low",
            "Cupid upgraded to hacker mode ðŸ’»ðŸ¹",
            "Heart.exe has stopped responding",
            "Certified romance moment",
            "You triggered the cute ending ðŸ’ž"

        ];

        /* ------------------ Finale Sets (with name) ------------------ */
        const finaleSets = [
            { title: `YAY ${name}!!! ðŸ’–ðŸ¥°`, text: `${name}, youâ€™re officially my Valentine ðŸ’˜` },
            { title: `OMG ${name}! ðŸ˜`, text: `Best decision ever, ${name} ðŸ’ž` },
            { title: `Itâ€™s a YES ${name}!!! ðŸŽ‰`, text: `Love just unlocked for you, ${name} ðŸ’–` },
            { title: `Mission Complete ðŸ’˜`, text: `${name} and me = Valentine mode ðŸ¥°` },
            { title: `Cupid Wins ðŸ¹`, text: `My heart belongs to you, ${name} ðŸ’—` },
            { title: `Forever Starts Now âœ¨`, text: `Happy Valentine, ${name}, my favorite person ðŸ’ž` },
            { title: `Caught You ${name} ðŸ˜`, text: `${name}, resistance was futile. You are now my Valentine ðŸ˜ˆðŸ’˜` },
            { title: `Oops ${name}! ðŸ’¥`, text: `You just signed a love contract with me ðŸ“ðŸ’–` },
            { title: `Too Late ${name} ðŸ˜œ`, text: `No refunds, no escape, only love ðŸ’ž` },
            { title: `System Error â¤ï¸`, text: `${name} clicked YES.exe and love installed successfully ðŸ˜Ž` },
            { title: `Game Over ${name} ðŸŽ®`, text: `Winner: Us. Prize: Unlimited cuddles ðŸ¥°` },
            { title: `Uh Oh ${name} ðŸ˜ˆ`, text: `You fell into my Valentine trap ðŸ’˜` },
            { title: `Breaking News ðŸ“°`, text: `${name} officially stolen my heart ðŸ’—` },
            { title: `Congratulations ${name} ðŸŽ‰`, text: `You unlocked the secret romance level ðŸ’–` },
            { title: `Plot Twist ${name} ðŸ¤¯`, text: `Weâ€™re Valentine partners now ðŸ˜` },
            { title: `Warning ${name} âš ï¸`, text: `Extreme cuteness incomingâ€¦ caused by you ðŸ’ž` },
            { title: `Love Hack Activated ðŸ’»`, text: `${name} just hacked into my heart ðŸ˜` },
            { title: `Arrested ${name} ðŸš“`, text: `Crime: Being too lovable ðŸ’˜` },
            { title: `Mission Failed Successfully ðŸ˜Ž`, text: `${name}, you tried to say no but love said YES ðŸ’–` },
            { title: `Achievement Unlocked ðŸ†`, text: `${name}: Professional Heart Stealer ðŸ’—` },
            { title: `404 No Escape ðŸ˜ˆ`, text: `${name}, Valentine status found ðŸ’˜` },
            { title: `Boom ${name}! ðŸ’¥`, text: `Love bomb activated successfully ðŸ’ž` },
            { title: `Oopsie ${name} ðŸ™ˆ`, text: `Now you owe me chocolates and hugs ðŸ«ðŸ¥°` },
            { title: `Hehe ${name} ðŸ˜œ`, text: `You walked into this romance on purpose ðŸ’–` },
            { title: `Surprise ${name}! ðŸŽ`, text: `Youâ€™re stuck being my Valentine ðŸ’˜` },
            { title: `Final Boss Defeated ðŸ–¤`, text: `${name}, your heart belongs to me now ðŸ˜ˆðŸ’ž` }

        ];

        const questions = questionSets[Math.floor(Math.random() * questionSets.length)];
        let step = 0;
        questionEl.innerText = questions[0];

        /* Position NO beside YES */
        function resetNoButtonPosition() {
            noBtn.classList.remove("runaway");

            const rowRect = buttonsRow.getBoundingClientRect();
            const yesRect = yesBtn.getBoundingClientRect();

            noBtn.style.left =
                yesRect.left - rowRect.left + yesRect.width + 30 + "px";

            noBtn.style.top = "4px";
        }



        window.onload = resetNoButtonPosition;
        window.onresize = resetNoButtonPosition;

        /* YES button */
        yesBtn.addEventListener("click", () => {
            cardEl.classList.add("blur-bg");

            // Random effect
            const effects = ["shakeCard", "pulse", "bounce", "spin", "wiggle"];
            const chosenEffect = effects[Math.floor(Math.random() * effects.length)];

            cardEl.classList.add(chosenEffect);

            // Remove after animation ends
            setTimeout(() => cardEl.classList.remove(chosenEffect), 800);

            // Next question or finale
            step++;
            if (step < questions.length) {
                questionEl.innerText = questions[step];
                noteEl.innerText = notes[Math.min(step, notes.length - 1)];
                setRandomBackground();
                resetNoButtonPosition();
            } else {
                finale();
            }

            // Trigger heart burst
            spawnHeartBurst(0);
        });

        /* Runaway NO button */
        let lastMouseX = 0;
        let lastMouseY = 0;

        document.addEventListener("mousemove", evade);
        document.addEventListener("touchmove", evade);

        function evade(e) {
            const rect = noBtn.getBoundingClientRect();

            lastMouseX = e.touches ? e.touches[0].clientX : e.clientX;
            lastMouseY = e.touches ? e.touches[0].clientY : e.clientY;

            const btnX = rect.left + rect.width / 2;
            const btnY = rect.top + rect.height / 2;

            const dx = btnX - lastMouseX;
            const dy = btnY - lastMouseY;

            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < 120) {
                moveNoButtonFarAway();
            }
        }

        function moveNoButtonFarAway() {
            noBtn.classList.add("runaway");

            const padding = 20;
            const minDistance = 260;

            let newX, newY;
            let attempts = 0;

            do {
                newX =
                    Math.random() * (window.innerWidth - noBtn.offsetWidth - padding * 2) + padding;

                newY =
                    Math.random() * (window.innerHeight - noBtn.offsetHeight - padding * 2) + padding;

                attempts++;
            } while (
                Math.hypot(newX - lastMouseX, newY - lastMouseY) < minDistance &&
                attempts < 20
            );

            noBtn.style.left = `${newX}px`;
            noBtn.style.top = `${newY}px`;
        }


        /* Finale */
        function finale() {

            cardEl.classList.add("flip");
            buttonsRow.style.display = "none";
            const card = document.getElementById("card");

            const finaleData = finaleSets[Math.floor(Math.random() * finaleSets.length)];

            card.innerHTML = `
  <div class="finale">
    <h1>${finaleData.title}</h1>
    <p>${finaleData.text}</p>
  </div>
`;

            const end = Date.now() + 3000;
            (function frame() {
                confetti({
                    particleCount: 12,
                    spread: 90,
                    origin: { y: 0.6 },
                    shapes: ["heart"],
                    colors: ["#ff4d6d", "#ff758f", "#ffb3c1"]
                });
                if (Date.now() < end) requestAnimationFrame(frame);
            })();
        }
        const heartsContainer = document.getElementById("hearts");
        const cardEl = document.getElementById("card");

        function spawnHeartBurst(count = 6) {
            const rect = cardEl.getBoundingClientRect();

            for (let i = 0; i < count; i++) {
                const heart = document.createElement("div");
                heart.className = "heart";

                const x =
                    rect.left +
                    Math.random() * rect.width;

                const y =
                    rect.top +
                    rect.height -
                    Math.random() * 20;

                const duration = 3 + Math.random() * 2;

                heart.style.left = `${x}px`;
                heart.style.top = `${y}px`;
                heart.style.animationDuration = `${duration}s`;

                heartsContainer.appendChild(heart);

                setTimeout(() => heart.remove(), duration * 1000);
            }
        }

        /* Continuous soft hearts */
        setInterval(() => {
            spawnHeartBurst(6);
        }, 600);

        /* Floating heart icons */
        setInterval(() => {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = 'ðŸ’–';
            heart.style.left = Math.random() * window.innerWidth + 'px';
            heart.style.top = window.innerHeight + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 6000);
        }, 800);

        /* Stronger burst when YES is clicked */
        yesBtn.addEventListener("click", () => {
            spawnHeartBurst(0);
        });

    </script>

</body>

</html>
